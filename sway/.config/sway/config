# Variables
# Logo key. Use Mod1 for Alt. Mod4 for window key
set $mod Mod1
set $super Mod4
set $left h
set $down j
set $up k
set $right l
font pango: Iosevka 10


default_border none
default_floating_border none
#for hdmi
# Enable both outputs
output eDP-1 enable
output HDMI-A-1 enable

#for obs setup
exec xdg-desktop-portal -r &
exec xdg-desktop-portal-wlr -r &

# Set modes (optional, use if you want different resolutions)
# output eDP-1 mode 1920x1080@60.056
# output HDMI-A-1 mode 1366x768@59.790

# Position the screens (current setup is fine, but you can adjust)
output eDP-1 position 0 0
output HDMI-A-1 position 1920 0

# Optional: Set the same scale factor if needed
output eDP-1 scale 1.0
output HDMI-A-1 scale 1.0

# Toggle to laptop screen only
bindsym $mod+Ctrl+1 exec swaymsg "output HDMI-A-1 disable; output eDP-1 enable; output eDP-1 mode 1920x1080@60.056; output eDP-1 position 0 0"

# Toggle to HDMI screen only
bindsym $mod+Ctrl+2 exec swaymsg "output eDP-1 disable; output HDMI-A-1 enable; output HDMI-A-1 mode 1366x768@59.790; output HDMI-A-1 position 0 0"

# Toggle to both screens (extended)
bindsym $mod+Ctrl+3 exec swaymsg "output eDP-1 enable; output HDMI-A-1 enable; output eDP-1 mode 1920x1080@60.056; output HDMI-A-1 mode 1366x768@59.790; output eDP-1 position 0 0; output HDMI-A-1 position 1920 0"
 
# This keymap is sexy one it open this script in alacritty terminal directly
# bindsym Ctrl+Shift+Return exec alacritty --title tmux_launcher -e /home/void/script/pick_session.sh
# bindsym $mod+a exec alacritty --title tmux_launcher -e python /home/void/script/python.py

# bindsym $mod+a exec swaymsg "workspace 1; exec alacritty --title tmux_launcher -e python /home/void/script/python.py"

bindsym $mod+a exec sh -c '[ "$(swaymsg -t get_tree | grep -i tmux_launcher)" ] && swaymsg "[title=tmux_launcher] focus" || swaymsg "workspace tmux; exec alacritty --title tmux_launcher -e python /home/void/script/python.py"'

#Antoher coll script
bindsym $mod+p exec alacritty --title tmux_session_selector -e ~/script/running_session.sh





# Open sway config in Alacritty with nvim
bindsym $mod+c exec alacritty --title "SWAY CONFIG" -e nvim ~/.config/sway/config

set $opacity 0.9
for_window [class=".*"] opacity $opacity
# Transpent in all software
for_window [app_id=".*"] opacity $opacity

set $term alacritty
# set $term2 zen //script used  here
set $menu dmenu_run
#set $menu i3-dmenu-desktop 

#Set wallpaper
output * bg /home/void/Downloads/1228038.png fill

# Example configuration:
#   output HDMI-A-1 resolution 1920x1080 position 1920,0
# You can get the names of your outputs by running: swaymsg -t get_outputs

#Sleep Using window + enter 
bindsym $super+Return exec "swaylock -f -c 000000 && loginctl suspend"


#lock the sceen in 5m  
#turn off all dispaly after 10m
#befre turn off display lock 

exec swayidle -w \
    timeout 300 'swaylock -f -c 000000' \
    timeout 600 'swaymsg output DP-1 power off' resume 'swaymsg output DP-1 power on' \
    before-sleep 'swaylock -f -c 000000'


### Input configuration
input type:touchpad {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
}

# Here Im remaping caps lock with Escape 
input * {
    xkb_options caps:swapescape
}
# bindsym Alt_R exec notify-send "Right Alt pressed"
bindsym Alt_R+t exec firefox

#Check that left alt is 56 and right alt is 100
# bindsym $super+Alt_L exec notify-send "Left Alt (56) pressed"
# bindsym $super+Alt_R exec notify-send "Right Alt (100) pressed"
# exec dunst # for allowing notification

### Key bindings
# Basics:
    bindsym $mod+Return exec $term
    # bindsym $mod+p exec $term2 // script used here
    bindsym $mod+q kill
    bindsym $mod+d exec $menu
    floating_modifier $mod normal
    bindsym $mod+Shift+r reload
    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m 'Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# Moving around:

    bindsym $mod+j workspace prev
    bindsym $mod+k workspace next

# here $left and $right is the variable 
    bindsym $mod+$left focus left
    bindsym $mod+$right focus right

    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left move left
    # Ditto, with arrow keys
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down

# Workspaces:
# Define named workspaces
    workspace A output eDP-1
    workspace S output eDP-1
    workspace D output eDP-1
    workspace F output eDP-1
    workspace J output eDP-1
    workspace K output eDP-1
    workspace L output eDP-1

# Switch to workspace
    bindsym $super+a workspace A
    bindsym $super+s workspace S
    bindsym $super+d workspace D
    bindsym $super+f workspace F
    bindsym $super+j workspace J
    bindsym $super+k workspace K
    bindsym $super+l workspace L

# Move focused container to workspace
    bindsym $mod+Shift+a move container to workspace A
    bindsym $mod+Shift+s move container to workspace S
    bindsym $mod+Shift+d move container to workspace D
    bindsym $mod+Shift+f move container to workspace F
    bindsym $mod+Shift+j move container to workspace J
    bindsym $mod+Shift+k move container to workspace K
    bindsym $mod+Shift+l move container to workspace L

# Layout stuff:
    # bindsym $mod+b splith
    # bindsym $mod+v splitv

    # Switch the current container between different layout styles
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split

    bindsym $mod+f fullscreen
    bindsym $mod+Shift+space floating toggle
    bindsym $mod+space focus mode_toggle
    # bindsym $mod+a focus parent //never used this

# Scratchpad:
    # hide focus window 
    bindsym $mod+Shift+minus move scratchpad
    # view hide window in pop up
    bindsym $mod+minus scratchpad show
   # for advance usage
    # for_window [app_id="Alacritty"] move scratchpad

# Resizing containers:

mode "resize" {
    # down will grow the containers height
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    # Ditto, with arrow keys
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

#For screenshot
bindsym mod4+p exec maim -s -u ~/Desktop/screenshot_$(date +%Y-%m-%d_%H-%M-%S).png

# Define the volume control mode
# set $mode_volume Volume Mode
# bindsym $mod+v mode "$mode_volume"
# mode "$mode_volume" {
#     bindsym j exec amixer set Master 15%+ unmute
#     bindsym k exec amixer set Master 15%- unmute 
#     #bindsym j exec --no-startup-id pamixer --increase 15; #works in X11
#     #bindsym k exec --no-startup-id pamixer --decrease 15; #works in X11

# }
set $mode_volume Volume Mode
bindsym $mod+v mode "$mode_volume"

mode "$mode_volume" {
    # PipeWire/PulseAudio controls (works for Bluetooth)
    bindsym j exec 'pactl set-sink-volume @DEFAULT_SINK@ +15%'
    bindsym k exec 'pactl set-sink-volume @DEFAULT_SINK@ -15%'
    bindsym m exec 'pactl set-sink-mute @DEFAULT_SINK@ toggle'
    

    bindsym Escape mode "default"
    bindsym $mod+v mode "default"
}

# Define the brightness control mode
set $mode_brightness Brightness Mode
# Enter brightness control mode with Mod+b
bindsym $mod+b mode "$mode_brightness"
mode "$mode_brightness" {
 # Increase brightness with 'j'
    bindsym j exec brightnessctl s +10%

    # Decrease brightness with 'k'
    bindsym k exec brightnessctl s 10%-

    bindsym $mod+b mode "default"
    bindsym Escape mode "default"
}

# Status Bar:
bar {

    status_command i3status
    position top
     # status_command while date +'%Y-%m-%d %X'; do sleep 1; done
	# status_command waybar
    colors {
        statusline #ffffff
        background #323232
        inactive_workspace #32323200 #32323200 #5c5c5c
    }
}

include /etc/sway/config.d/*
